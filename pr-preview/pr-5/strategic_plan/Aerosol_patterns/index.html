
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.25">
    
    
      
        <title>Program Outline Revision Draft - Particula</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#program-outline-revision-draft" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Particula" class="md-header__button md-logo" aria-label="Particula" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Particula
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Program Outline Revision Draft
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/gorkowski/particula" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../jupyter_book/index.html" class="md-tabs__link">
        
  
    
  
  Jupyter Book

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Particula" class="md-nav__button md-logo" aria-label="Particula" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Particula
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/gorkowski/particula" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../jupyter_book/index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Jupyter Book
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="program-outline-revision-draft">Program Outline Revision Draft<a class="headerlink" href="#program-outline-revision-draft" title="Permanent link">&para;</a></h1>
<h3 id="aerosol-data-objects">Aerosol Data objects<a class="headerlink" href="#aerosol-data-objects" title="Permanent link">&para;</a></h3>
<p><strong>Gas Module</strong></p>
<p>This module represents the gaseous environment in which aerosols are suspended. It should encapsulate properties such as vapor pressure, humidity (or water activity), temperature, total pressure, and the masses of each vapor present.</p>
<ul>
<li><strong>Design Suggestion</strong>: Use the <strong>Builder Pattern</strong> to incrementally construct a complex <code>Gas</code> object . This pattern can handle various combinations of properties efficiently, allowing for clear and flexible gas object creation.</li>
</ul>
<p><strong>Particle Module</strong></p>
<p>Represents individual particles within an aerosol, containing attributes like the mass of species per particle, particle radius, density, and count per particle size.</p>
<ul>
<li><strong>Design Suggestion</strong>: A <strong>Composite Pattern</strong> might be useful here to treat individual particles and compositions of particles uniformly. This could simplify operations that apply to both single particles and collections of particles, especially when calculating properties that depend on the entire particle ensemble.</li>
</ul>
<p><strong>Aerosol Module</strong></p>
<p>Combines the <code>Gas</code> and <code>Particle</code> modules to represent an aerosol system. It should include a mechanism for evolving the system over time (time step).</p>
<ul>
<li><strong>Design Suggestion</strong>: The <strong>Facade Pattern</strong> could offer a simplified interface to complex subsystems (Gas and Particle), making the Aerosol module easier to use without sacrificing the flexibility of direct interaction with the subsystems.</li>
</ul>
<h2 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h2>
<p>To structure the three data classes (Gas, Particle, Aerosol) in code using the design pattern suggestions provided, you would typically follow an object-oriented programming approach. Here's a high-level structure with examples in Python to illustrate how these patterns can be implemented:</p>
<h3 id="gas-module-with-builder-pattern">Gas Module with Builder Pattern<a class="headerlink" href="#gas-module-with-builder-pattern" title="Permanent link">&para;</a></h3>
<p>The Builder Pattern is great for constructing complex objects step by step. It allows you to produce different types and representations of an object using the same construction process.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GasBuilder</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span> <span class="o">=</span> <span class="n">Gas</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">set_vapor_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pressure</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span><span class="o">.</span><span class="n">vapor_pressure</span> <span class="o">=</span> <span class="n">pressure</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_humidity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">humidity</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span><span class="o">.</span><span class="n">humidity</span> <span class="o">=</span> <span class="n">humidity</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_temperature</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temperature</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">temperature</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_total_pressure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">total_pressure</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span><span class="o">.</span><span class="n">total_pressure</span> <span class="o">=</span> <span class="n">total_pressure</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">set_masses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">masses</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_product</span><span class="o">.</span><span class="n">masses</span> <span class="o">=</span> <span class="n">masses</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">build</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">product</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_product</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">product</span>

<span class="k">class</span> <span class="nc">Gas</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vapor_pressure</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">humidity</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_pressure</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">masses</span> <span class="o">=</span> <span class="kc">None</span>
</code></pre></div>
<h4 id="revision-of-gas-with-multiple-species">Revision of Gas with multiple species<a class="headerlink" href="#revision-of-gas-with-multiple-species" title="Permanent link">&para;</a></h4>
<p>Given the requirement that the <code>Gas</code> class can contain multiple species, each with its own properties (such as mass), you're correct in considering a structure that allows for this complexity. While the Composite Pattern is traditionally used for part-whole hierarchies, for managing multiple species within a <code>Gas</code> object, a more fitting approach could be using a container within the <code>Gas</code> class to manage these species. However, this container would manage different species and their attributes rather than creating a strict Composite structure. </p>
<p>Here's how you can structure the <code>Gas</code> class to accommodate multiple species, focusing on a flexible and extensible design:</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">GasSpecies</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">vapor_pressure</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>  <span class="c1"># Mass of the species in the gas mixture</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">vapor_pressure</span> <span class="o">=</span> <span class="n">vapor_pressure</span>  <span class="c1"># Optional, specific to species</span>

<span class="k">class</span> <span class="nc">Gas</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">298.15</span><span class="p">,</span> <span class="n">total_pressure</span><span class="o">=</span><span class="mi">101325</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">temperature</span> <span class="o">=</span> <span class="n">temperature</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">total_pressure</span> <span class="o">=</span> <span class="n">total_pressure</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Dictionary to hold GasSpecies objects</span>

    <span class="k">def</span> <span class="nf">add_species</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">vapor_pressure</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">species</span> <span class="o">=</span> <span class="n">GasSpecies</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">vapor_pressure</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">species</span>

    <span class="k">def</span> <span class="nf">remove_species</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="p">:</span>
            <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">species</span><span class="p">[</span><span class="n">name</span><span class="p">]</span>

<span class="c1"># Example Usage:</span>
<span class="n">gas_mixture</span> <span class="o">=</span> <span class="n">Gas</span><span class="p">(</span><span class="n">temperature</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">total_pressure</span><span class="o">=</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">gas_mixture</span><span class="o">.</span><span class="n">add_species</span><span class="p">(</span><span class="s1">&#39;O2&#39;</span><span class="p">,</span> <span class="n">mass</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">vapor_pressure</span><span class="o">=</span><span class="mi">21300</span><span class="p">)</span>
<span class="n">gas_mixture</span><span class="o">.</span><span class="n">add_species</span><span class="p">(</span><span class="s1">&#39;N2&#39;</span><span class="p">,</span> <span class="n">mass</span><span class="o">=</span><span class="mi">28</span><span class="p">)</span>

<span class="c1"># Accessing a species:</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gas_mixture</span><span class="o">.</span><span class="n">species</span><span class="p">[</span><span class="s1">&#39;O2&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mass</span><span class="p">)</span>  <span class="c1"># 32</span>
</code></pre></div>
<p>In this structure, <code>GasSpecies</code> represents an individual gas species, encapsulating properties relevant to a single species, such as its name, mass, and optional properties like vapor pressure. The <code>Gas</code> class then contains a dictionary of these <code>GasSpecies</code> objects, allowing for the addition, modification, and removal of species within the gas mixture.</p>
<p>This design offers flexibility and scalability for handling a mixture of gases with varying properties. It also keeps the interface for interacting with individual species straightforward, enabling easy adjustments to the composition of the gas mixture as needed. </p>
<p>This approach does not strictly follow the Composite Pattern, as it doesn't aim to treat individual and composite objects uniformly. Instead, it provides a clear way to manage a collection of distinct objects (<code>GasSpecies</code>) within another object (<code>Gas</code>), which is more aligned with your requirements.</p>
<h3 id="particle-module-with-composite-pattern">Particle Module with Composite Pattern<a class="headerlink" href="#particle-module-with-composite-pattern" title="Permanent link">&para;</a></h3>
<p>The Composite Pattern allows you to compose objects into tree structures to represent part-whole hierarchies. It lets clients treat individual objects and compositions uniformly.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Particle</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mass</span><span class="p">,</span> <span class="n">radius</span><span class="p">,</span> <span class="n">density</span><span class="p">,</span> <span class="n">count</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mass</span> <span class="o">=</span> <span class="n">mass</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">density</span> <span class="o">=</span> <span class="n">density</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="n">count</span>

<span class="k">class</span> <span class="nc">ParticleComposite</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_children</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">particle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">particle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">particle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_mass</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">child</span><span class="o">.</span><span class="n">mass</span> <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_children</span><span class="p">)</span>
</code></pre></div>
<h3 id="aerosol-module-with-facade-pattern">Aerosol Module with Facade Pattern<a class="headerlink" href="#aerosol-module-with-facade-pattern" title="Permanent link">&para;</a></h3>
<p>The Facade Pattern provides a simplified interface to a complex subsystem. Here, the Aerosol class acts as a facade to the Gas and Particle modules, making it easier to interact with these subsystems.</p>
<div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">Aerosol</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">gas_builder</span><span class="p">,</span> <span class="n">particles</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gas</span> <span class="o">=</span> <span class="n">gas_builder</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">particles</span> <span class="o">=</span> <span class="n">particles</span>


<span class="c1"># Example usage</span>
<span class="n">gas_builder</span> <span class="o">=</span> <span class="n">GasBuilder</span><span class="p">()</span><span class="o">.</span><span class="n">set_temperature</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span><span class="o">.</span><span class="n">set_humidity</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span><span class="o">.</span><span class="n">set_total_pressure</span><span class="p">(</span><span class="mi">101325</span><span class="p">)</span>
<span class="n">particles</span> <span class="o">=</span> <span class="n">ParticleComposite</span><span class="p">()</span>
<span class="n">particles</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Particle</span><span class="p">(</span><span class="n">mass</span><span class="o">=</span><span class="mf">1.2</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">100</span><span class="p">))</span>

<span class="n">aerosol</span> <span class="o">=</span> <span class="n">Aerosol</span><span class="p">(</span><span class="n">gas_builder</span><span class="p">,</span> <span class="n">particles</span><span class="p">)</span>
</code></pre></div>
<p>In this setup:
- <strong>GasBuilder</strong> allows for the flexible construction of a <code>Gas</code> object with various properties.
- <strong>ParticleComposite</strong> manages a collection of <code>Particle</code> objects, enabling operations on groups of particles as if they were a single object.
- <strong>Aerosol</strong> acts as a facade for the complex interactions between <code>Gas</code> and <code>Particle</code> objects, simplifying the usage for clients.</p>
<h2 id="processing-objects">Processing Objects<a class="headerlink" href="#processing-objects" title="Permanent link">&para;</a></h2>
<p>Defines common interfaces for operations (evaluate, rate, update) that process the aerosol system, taking an aerosol as input and returning an updated aerosol.</p>
<ul>
<li><strong>Design Suggestion</strong>: The <strong>Strategy Pattern</strong> is ideal here, allowing the algorithm to be selected at runtime. It supports the interchangeable use of different processing methods (e.g., for coagulation or chemical reactions) while maintaining a consistent interface.</li>
</ul>
<h2 id="processes-coagulation-vapor-equilibrium-chemical-reaction-nucleation">Processes (Coagulation, Vapor Equilibrium, Chemical Reaction, Nucleation)<a class="headerlink" href="#processes-coagulation-vapor-equilibrium-chemical-reaction-nucleation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Abstract Factory (Process Factory)</strong>: This serves as the abstract base for creating families of related or dependent process objects without specifying their concrete classes. It defines the interface for creating different types of process factories (CoagulationFactory, VaporEquilibriumFactory, ChemicalReactionFactory, etc.).</li>
</ul>
<h3 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h3>
<p><strong>Process Factory Interface</strong></p>
<p>This is the abstract class that declares a set of methods for creating different process objects. Each process (Coagulation, Vapor Equilibrium, etc.) will have its own concrete factory that implements this interface.</p>
<p><strong>Concrete Factories</strong></p>
<ul>
<li>
<p><strong>CoagulationFactory</strong>: Creates and returns instances of Coagulation processes, with methods tailored to different coagulation strategies (number-based, moving section-based, super droplet-based).</p>
</li>
<li>
<p><strong>VaporEquilibriumFactory</strong>: Specializes in creating Vapor Equilibrium processes, providing different methods for handling vapor equilibrium (number-based condensation, moving section-based condensation, etc.).</p>
</li>
<li>
<p><strong>ChemicalReactionFactory</strong>: Generates objects for Chemical Reaction processes, offering various methods for different chemical reactions (gas phase, surface, bulk, particle phase, heterogeneous).</p>
</li>
<li>
<p><strong>NucleationFactory</strong>: Dedicated to creating Nucleation process objects, with options for homogeneous, heterogeneous, ion-induced, and binary nucleation.</p>
</li>
<li>
<p><strong>WallLossFactory</strong>: Focuses on creating Wall Loss processes, suitable for calculating particle loss to walls or boundaries.</p>
</li>
</ul>
<h3 id="benefits-of-this-approach">Benefits of This Approach<a class="headerlink" href="#benefits-of-this-approach" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p><strong>Flexibility in Process Selection</strong>: This structure allows for the dynamic instantiation of processes based on simulation needs or environmental conditions, offering great flexibility and adaptability.</p>
</li>
<li>
<p><strong>Isolation of Construction Logic</strong>: By encapsulating the creation logic within each factory, the complexity of object creation is isolated from the rest of the application.</p>
</li>
<li>
<p><strong>Enhanced Modularity</strong>: The Abstract Factory pattern promotes a more modular system design, where changes to the process creation mechanism or the introduction of new processes require minimal changes to the codebase.</p>
</li>
<li>
<p><strong>Consistency</strong>: Using a standardized interface for creating processes ensures consistency across the application, making it easier to manage and extend.</p>
</li>
</ul>
<h3 id="implementation-consideration">Implementation Consideration<a class="headerlink" href="#implementation-consideration" title="Permanent link">&para;</a></h3>
<p>While the Abstract Factory and Factory Pattern combination provides a robust structure for your aerosol modeling application, it's important to ensure that the design remains flexible and doesn't introduce unnecessary complexity. Keep the interface of your abstract factory and concrete factories clear and intuitive, and only define separate factories for processes that genuinely require different instantiation logic or have distinctly different configurations.</p>
<p>from langchain_core.runnables import RunnableLambda</p>
<p>def mass_condensation(input = Aerosol, other_settings) -&gt; Aerosol:
    # Perform mass condensation calculations
    return Aerosol</p>
<p>def mass_coagulation(input = Aerosol, other_setting2) -&gt; Aerosol:
    # Perform mass coagulation calculations
    return Aerosol</p>
<p>runnable_1 = mass_condensation(other_settings)
runnable_2 = mass_coagulation(other_settings2)
sequence = runnable_1 | runnable_2</p>
<h1 id="or-equivalently">Or equivalently:<a class="headerlink" href="#or-equivalently" title="Permanent link">&para;</a></h1>
<h1 id="sequence-runnablesequencefirstrunnable_1-lastrunnable_2">sequence = RunnableSequence(first=runnable_1, last=runnable_2)<a class="headerlink" href="#sequence-runnablesequencefirstrunnable_1-lastrunnable_2" title="Permanent link">&para;</a></h1>
<p>sequence.invoke(input=Aerosol)</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      &copy; 2024 By particula contributors

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.081f42fc.min.js"></script>
      
    
  </body>
</html>